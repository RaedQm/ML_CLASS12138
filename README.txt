==========================================================================
项目名称：基于集成学习(CatBoost)与可解释性AI(SHAP)的企业员工流失预测系统
==========================================================================

[ 项目简介 ]
本项目旨在解决企业人力资源管理中的核心痛点——核心人才流失。通过分析员工的个人属性、薪资待遇、工作环境及历史行为数据，构建了一个高精度的二分类预测模型。系统不仅能输出员工离职的概率，还能利用 SHAP 技术揭示导致离职的关键诱因（如加班过多、期权不足等），支持“事前预警”与“归因分析”。

[ 核心技术 ]
1. 算法模型：CatBoostClassifier (专为类别型数据优化的梯度提升决策树)。
2. 样本平衡：采用代价敏感学习策略 (Scale_Pos_Weight = 4.2)，优先优化召回率 (Recall)，防止漏报高风险人员。
3. 特征工程：构建了 AvgTenure (职业稳定性)、IncomePerAge (同龄薪资竞争力) 等深度业务特征。
4. 模型解释：引入 SHAP (SHapley Additive exPlanations) 进行特征归因分析。
5. 工程落地：实现了特征空间的自动对齐机制，确保预测新数据时系统的鲁棒性。

[ 文件结构说明 ]
1. train.ipynb          : 【训练端】负责数据清洗、特征工程、模型训练、参数调优、SHAP分析及模型保存。
2. predict.ipynb        : 【应用端】加载训练好的模型，对新进数据进行预处理与对齐，输出离职风险名单。
3. final_catboost_model.cbm : (运行训练后生成) 训练好的模型文件。
4. feature_names.pkl    : (运行训练后生成) 用于预测时对齐特征列的元数据。
5. High_Risk_Employees.csv  : (输出结果) 训练集中筛选出的高风险员工名单。
6. Final_Prediction_Result.csv : (输出结果) 预测系统生成的最终交付名单。

[ 环境依赖安装 ]
请确保安装了 Python 3.x 环境，并在终端执行以下命令安装依赖库：
pip install -r requirements.txt

[ 使用步骤 ]

步骤一：模型训练 (Training)
1. 确保目录下包含源数据文件 (如 WA_Fn-UseC_-HR-Employee-Attrition.csv)。
2. 打开并运行 `train.ipynb` 的所有单元格。
3. 运行结束后，目录下会自动生成 `final_catboost_model.cbm` 模型文件和 `feature_names.pkl`。
4. 同时会展示 SHAP 摘要图和混淆矩阵等分析图表。

步骤二：新数据预测 (Prediction)
1. 确保目录下存在上述生成的模型文件。
2. 打开 `predict.ipynb`。
3. 将待预测的数据文件路径修改为你实际的文件名 (代码中默认为读取源数据作为演示)。
4. 运行所有单元格。
5. 系统会自动处理特征缺失或不对齐的问题，最终生成 `Final_Prediction_Result.csv`。

[ 结果解读 ]
输出的 CSV 文件包含以下关键字段：
- 离职风险概率：0~1 之间的数值，越高代表离职可能性越大。
- 风险等级：
  - 高危 (概率 > 0.5)：建议立即进行挽留谈话。
  - 中风险 (0.3 ~ 0.5)：建议关注其工作满意度。
  - 稳定：暂无明显离职倾向。